<form class="flex flex-col gap-4 mt-4">
  @for(control of formArray.controls; track control; let index = $index) {
    <div [formGroup]="control" class="flex items-center gap-2">
      <mat-form-field class="grow">
        <mat-label>Key</mat-label>
        <input matInput formControlName="key" />
      </mat-form-field>

      <div>-></div>

      <mat-form-field class="grow">
        <mat-label>Value</mat-label>
        <input matInput formControlName="value" />
      </mat-form-field>

      <containerized-confirm-button class="text-red-700" icon="delete-bin-line" [bypassConfirmation]="!control.valid"
        (confirmed)="removeElement(index)">
        <rmx-icon name="delete-bin-line" />
      </containerized-confirm-button>
    </div>
  }

  <div>
    <button type="button" mat-raised-button color="primary" (click)="addElement()">+ Add a variable</button>
  </div>
</form>